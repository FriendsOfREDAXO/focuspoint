/**
 * jQuery FocusPoint; version: 1.0.3
 * Author: http://jonathonmenz.com
 * Source: https://github.com/jonom/jquery-focuspoint
 * Copyright (c) 2014 J. Menz; MIT License
 * @preserve
 */
!function($){$.fn.focusPoint=function(t){var o=$.extend({reCalcOnWindowResize:!0,throttleDuration:17},t);return this.each(function(){var t=$(this),a=!1;t.removeClass("focus-left-top focus-left-center focus-left-bottom focus-center-top focus-center-center focus-center-bottom focus-right-top focus-right-center focus-right-bottom"),t.adjustFocus(),o.reCalcOnWindowResize&&$(window).resize(function(){if(o.throttleDuration>0){if(a)return;a=!0,setTimeout(function(){a=!1,t.adjustFocus()},o.throttleDuration)}t.adjustFocus()})})},$.fn.adjustFocus=function(){return this.each(function(){var t,o,a,i,s,c,e,u,n,f,r,h,d,g,m,l,x,p,w,y,F,v,j,b,M;return t=$(this).width(),o=$(this).height(),a=$(this).find("img").first(),i=$(this).data("imageW"),s=$(this).data("imageH"),i&&s?t>0&&o>0&&i>0&&s>0?(u=i/t,n=s/o,i>t&&s>o?u>n?(a.css("max-width",""),a.css("max-height","100%")):(a.css("max-width","100%"),a.css("max-height","")):(a.css("max-width",""),a.css("max-height","")),f=0,r=0,u>n?(h=Math.floor(t/2),d=(Number($(this).data("focus-x"))+1)/2,g=Math.floor(i/n),m=Math.floor(d*g),l=m-h,x=g-m,p=t-h,p>x&&(l-=p-x),0>l&&(l=0),f=-1*l):n>u&&(w=Math.floor(o/2),y=(Number($(this).data("focus-y"))+1)/2,F=Math.floor(s/u),v=F-Math.floor(y*F),j=v-w,b=F-v,M=o-w,M>b&&(j-=M-b),0>j&&(j=0),r=-1*j),a.css("left",f+"px"),void a.css("top",r+"px")):!1:(c=this,e=new Image,e.onload=function(){$(c).data("imageW",this.width),$(c).data("imageH",this.height),$(c).adjustFocus()},e.src=a.attr("src"),!1)})}}(jQuery),function($){$(document).ready(function(){function t(t){$("<img/>").attr("src",t).load(function(){f.w=this.width,f.h=this.height,n.attr("src",t),u.attr("src",t),e.attr({"data-focus-x":f.x,"data-focus-y":f.y,"data-image-w":f.w,"data-image-h":f.h}),e.data("focusX",f.x),e.data("focusY",f.y),e.data("imageW",f.w),e.data("imageH",f.h),$(".focuspoint").focusPoint(),o()})}function o(){s.val('data-focus-x="'+f.x.toFixed(2)+'" data-focus-y="'+f.y.toFixed(2)+'"')}function a(){e.attr({"data-focus-x":f.x,"data-focus-y":f.y}),e.data("focusX",f.x),e.data("focusY",f.y),e.adjustFocus()}var i,s,c,e,u,n,f={x:0,y:0,w:0,h:0};!function(){i="",s=$("#Focuspoint_Data"),c=$("#Focuspoint_CSS"),n=$("img.helper-tool-img, img.target-overlay"),e=$(".focuspoint"),u=$(".focuspoint img"),t(i)}(),n.click(function(t){var i=$(this).width(),s=$(this).height(),e=t.pageX-$(this).offset().left,u=t.pageY-$(this).offset().top,n=2*(e/i-.5),r=-2*(u/s-.5);f.x=n,f.y=r,o(),a();var h=e/i*100,d=u/s*100,g=h.toFixed(0)+"% "+d.toFixed(0)+"%",m="background-position: "+g+";";c.val(m),$(".reticle").css({top:d+"%",left:h+"%"})})})}(jQuery);